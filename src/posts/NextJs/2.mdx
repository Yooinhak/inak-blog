---
title: "useEffect vs useLayoutEffect: 언제 어떤 걸 써야 할까?"
date: 2024-04-18
---

React 18 기준으로 작성되었습니다.

## 헷갈리는 두 훅

처음 React를 접했을 때 `useEffect`만 써도 충분했는데,  
어느 순간 `useLayoutEffect`도 필요하다는 이야기를 듣게 됩니다.

과연 두 훅의 차이점은 뭘까요?

## 실행 타이밍

- `useEffect`: 브라우저 페인팅 이후 비동기적으로 실행됨
- `useLayoutEffect`: DOM 변경 직후, 페인팅 전에 동기적으로 실행됨

## 언제 써야 할까?

```tsx
// useLayoutEffect가 필요한 예
useLayoutEffect(() => {
  const height = ref.current?.offsetHeight;
  setHeight(height);
}, []);